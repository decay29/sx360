<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <title>sx360: sx360::sxPunchFile Class Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
  <link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
<ul>
  <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
  <li><a href="namespaces.html"><span>Namespaces</span></a></li>
  <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
  <li><a href="files.html"><span>Files</span></a></li>
  <li>
    <form action="search.php" method="get">
      <table border="0" cellpadding="0" cellspacing="0">
        <tbody>
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input name="query" value="" size="20" accesskey="s"
 type="text"></td>
          </tr>
        </tbody>
      </table>
    </form>
  </li>
</ul>
</div>
<div class="tabs">
<ul>
  <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
  <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
</ul>
</div>
<div class="nav">
<a class="el" href="namespacesx360.html">sx360</a>::<a class="el"
 href="classsx360_1_1sx_punch_file.html">sxPunchFile</a></div>
<h1>sx360::sxPunchFile Class Reference</h1>
<!-- doxytag: class="sx360::sxPunchFile" --><code>#include
&lt;sxpunchfile.h&gt;</code>
<p>Collaboration diagram for sx360::sxPunchFile:</p>
<p></p>
<center><img src="classsx360_1_1sx_punch_file__coll__graph.png"
 usemap="#sx360_1_1sx_punch_file__coll__map" alt="Collaboration graph"
 border="0"></center>
<map name="sx360_1_1sx_punch_file__coll__map">
<area shape="rect" href="structsx360_1_1_file_setup.html"
 title="sx360::FileSetup" alt="" coords="5,5,128,32">
<area shape="rect" href="structsx360_1_1_byte_map.html"
 title="sx360::ByteMap" alt="" coords="152,5,269,32">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>
<a href="classsx360_1_1sx_punch_file-members.html">List of all members.</a>
<table border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td><br>
      </td>
    </tr>
    <tr>
      <td colspan="2"><br>
      <h2>Public Member Functions</h2>
      </td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#79a311bfc64f36fd20d8122e0dd1cd81">sxPunchFile</a>
(<a class="el" href="structsx360_1_1_byte_map.html">ByteMap</a> bmap)</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#a0fe23b293b282544621ebbbe5a88537">~sxPunchFile</a>
()</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">bool&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#0ebe302d8d93ac145ea0d0fd1e316162">open</a>
(string name, <a class="el" href="structsx360_1_1_file_setup.html">FileSetup</a>
setup)</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">bool&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#7a337d8fdb6fd2818f973951739bca1b">close</a>
()</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">int&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#a29f3b817f705ae657ff379ee51522f1">getCardCount</a>
()</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top"><a
 class="el" href="classsx360_1_1sx_iterator.html">sxIterator</a> *&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#4651e439a8b2267ccccfa552f79c5fca">getIterator</a>
() const</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">const
      <a class="el" href="structsx360_1_1_file_setup.html">FileSetup</a>
&amp;&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#411d4096a8fce1cdd70961b3730657d6">getSetup</a>
() const</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">bool&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#3dfa3c81d85ed4a018d8908a3036724e">appendRecord</a>
(<a class="el" href="classsx360_1_1sx_record.html">sxRecord</a> *cards)</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">int&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#e20418ed35e705e878907102216aae1e">seek</a>
(off_t offset, int whence)</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">unsigned
int&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#b3f1b57e24894fae1f65ab8d96eabbfe">getRecordCount</a>
()</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">off_t&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#57ef8cf0ad004771b2c11e24b97cebc5">tell</a>
()</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">bool&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#f35230631102b26e7c4c7d596c337f90">read</a>
(void *ptr, size_t size)</td>
    </tr>
    <tr>
      <td class="memItemLeft" align="right" nowrap="nowrap" valign="top">bool&nbsp;</td>
      <td class="memItemRight" valign="bottom"><a class="el"
 href="classsx360_1_1sx_punch_file.html#a3365bbb8ab664df66531dea1555f427">write</a>
(void *ptr, size_t size)</td>
    </tr>
  </tbody>
</table>
<br>
sxPunchFile is the representation of the physical file on disk.&nbsp;
Files can be opened in any of three modes:<br>
<br>
READ_ONLY - the file is only available for reading data.&nbsp; You can
change actual values, but any committing to disk will fail.<br>
READ_WRITE - the file is enabled to allow writing back of existing
records.<br>
CREATE - the file is only available for writing.<br>
<br>
It is important to note that it is not possible to add records on to an
existing sxPunchFile.&nbsp; READ_WRITE works only to modify existing
records, not add new ones.&nbsp; This is because if a file is opened in
either READ_ONLY or READ_WRITE an sxIterator is automatically created
and retrieves the number of records once when the file is opened.&nbsp;
If you want to add records to an existing sxPunchFile, the preferred
method is to open one in READ_ONLY and another in CREATE, copy the
records you want by called sxPunchFile::append to the new file.&nbsp;
This also helps to preserve your existing file.<br>
<br>
The ability to append existing files may be available in future
versions.<br>
<br>
<br>
<hr>
<h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="79a311bfc64f36fd20d8122e0dd1cd81"></a><!-- doxytag: member="sx360::sxPunchFile::sxPunchFile" ref="79a311bfc64f36fd20d8122e0dd1cd81" args="(ByteMap bmap)" -->
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">sxPunchFile::sxPunchFile </td>
      <td>(</td>
      <td class="paramtype"><a class="el"
 href="structsx360_1_1_byte_map.html">ByteMap</a>&nbsp;</td>
      <td class="paramname"> <em>bmap</em> </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"><br>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Constructor for an sxPunchFile. The parameter is a ByteMap, which if
a standard IBM 360 column binary is being used, can be constructed
using the default parameters.
</p>
</div>
</div>
<p><a class="anchor" name="a0fe23b293b282544621ebbbe5a88537"></a><!-- doxytag: member="sx360::sxPunchFile::~sxPunchFile" ref="a0fe23b293b282544621ebbbe5a88537" args="()" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">sxPunchFile::~sxPunchFile </td>
      <td>(</td>
      <td class="paramname"> <br>
      </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"><br>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Destructor for sxPunchFile.
</p>
</div>
</div>
<p></p>
<hr>
<h2>Member Function Documentation</h2>
<a class="anchor" name="0ebe302d8d93ac145ea0d0fd1e316162"></a><!-- doxytag: member="sx360::sxPunchFile::open" ref="0ebe302d8d93ac145ea0d0fd1e316162" args="(string name, FileSetup setup)" -->
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">bool sxPunchFile::open </td>
      <td>(</td>
      <td class="paramtype">string&nbsp;</td>
      <td class="paramname"> <em>name</em>, </td>
    </tr>
    <tr>
      <td class="paramkey"><br>
      </td>
      <td><br>
      </td>
      <td class="paramtype"><a class="el"
 href="structsx360_1_1_file_setup.html">FileSetup</a>&nbsp;</td>
      <td class="paramname"> <em>setup</em></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><br>
      </td>
      <td>)</td>
      <td><br>
      </td>
      <td><br>
      </td>
      <td width="100%"><br>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Opens a sxPunchFile.&nbsp; Returns true is file is open or false if
the file cannot be opened.<br>
</p>
<p style="font-family: Courier New,Courier,monospace;">Parameters:
</p>
<p style="font-family: Courier New,Courier,monospace;">string name =
file name to open.
</p>
<p><span style="font-family: Courier New,Courier,monospace;">FileSetup
setup = defines how a file should be opened.</span>
</p>
</div>
</div>
<p><a class="anchor" name="7a337d8fdb6fd2818f973951739bca1b"></a><!-- doxytag: member="sx360::sxPunchFile::close" ref="7a337d8fdb6fd2818f973951739bca1b" args="()" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">bool sxPunchFile::close </td>
      <td>(</td>
      <td class="paramname"> <br>
      </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"><br>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Closes the open sxPunchFile.
</p>
</div>
</div>
<p><a class="anchor" name="a29f3b817f705ae657ff379ee51522f1"></a><!-- doxytag: member="sx360::sxPunchFile::getCardCount" ref="a29f3b817f705ae657ff379ee51522f1" args="()" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">int sx360::sxPunchFile::getCardCount </td>
      <td>(</td>
      <td class="paramname"> <br>
      </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"><code> [inline]</code></td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Returns the number of cards per record in the file.
</p>
</div>
</div>
<p><a class="anchor" name="4651e439a8b2267ccccfa552f79c5fca"></a><!-- doxytag: member="sx360::sxPunchFile::getIterator" ref="4651e439a8b2267ccccfa552f79c5fca" args="() const" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname"><a class="el"
 href="classsx360_1_1sx_iterator.html">sxIterator</a>*
sx360::sxPunchFile::getIterator </td>
      <td>(</td>
      <td class="paramname"> <br>
      </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"> const<code> [inline]</code></td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Returns the sxIterator that is used to traverse the file if the file
was opened in READ_ONLY or READ_WRITE. Otherwise, NULL is returned.
</p>
</div>
</div>
<p><a class="anchor" name="411d4096a8fce1cdd70961b3730657d6"></a><!-- doxytag: member="sx360::sxPunchFile::getSetup" ref="411d4096a8fce1cdd70961b3730657d6" args="() const" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">const <a class="el"
 href="structsx360_1_1_file_setup.html">FileSetup</a>&amp;
sx360::sxPunchFile::getSetup </td>
      <td>(</td>
      <td class="paramname"> <br>
      </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"> const<code> [inline]</code></td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Returns the FileSetup structure used to create the sxPunchFile.
</p>
</div>
</div>
<p><a class="anchor" name="3dfa3c81d85ed4a018d8908a3036724e"></a><!-- doxytag: member="sx360::sxPunchFile::appendCards" ref="3dfa3c81d85ed4a018d8908a3036724e" args="(sxRecord *cards)" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">bool sxPunchFile::appendRecord </td>
      <td>(</td>
      <td class="paramtype"><a class="el"
 href="classsx360_1_1sx_record.html">sxRecord</a> *&nbsp;</td>
      <td class="paramname"> <em>cards</em> </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"><br>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>When a file is opened in CREATE mode, this method will write a new
record to the end of the file. If the file is not opened in CREATE
mode, the return value will be false.
</p>
</div>
</div>
<p><a class="anchor" name="e20418ed35e705e878907102216aae1e"></a><!-- doxytag: member="sx360::sxPunchFile::seek" ref="e20418ed35e705e878907102216aae1e" args="(off_t offset, int whence)" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">int sxPunchFile::seek </td>
      <td>(</td>
      <td class="paramtype">off_t&nbsp;</td>
      <td class="paramname"> <em>offset</em>, </td>
    </tr>
    <tr>
      <td class="paramkey"><br>
      </td>
      <td><br>
      </td>
      <td class="paramtype">int&nbsp;</td>
      <td class="paramname"> <em>whence</em></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><br>
      </td>
      <td>)</td>
      <td><br>
      </td>
      <td><br>
      </td>
      <td width="100%"><br>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Wrapper function for fseeko. No need to a client to call this
function.
</p>
</div>
</div>
<p><a class="anchor" name="b3f1b57e24894fae1f65ab8d96eabbfe"></a><!-- doxytag: member="sx360::sxPunchFile::getRecordCount" ref="b3f1b57e24894fae1f65ab8d96eabbfe" args="()" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">unsigned int
sx360::sxPunchFile::getRecordCount </td>
      <td>(</td>
      <td class="paramname"> <br>
      </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"><code> [inline]</code></td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Returns the number of records in the file.
</p>
</div>
</div>
<p><a class="anchor" name="57ef8cf0ad004771b2c11e24b97cebc5"></a><!-- doxytag: member="sx360::sxPunchFile::tell" ref="57ef8cf0ad004771b2c11e24b97cebc5" args="()" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">off_t sx360::sxPunchFile::tell </td>
      <td>(</td>
      <td class="paramname"> <br>
      </td>
      <td>&nbsp;)&nbsp;</td>
      <td width="100%"><code> [inline]</code></td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Returns an off_t to the current offset in the physical file.&nbsp;
off_t is #defined as __int64 on Windows.<br>
</p>
</div>
</div>
<p><a class="anchor" name="f35230631102b26e7c4c7d596c337f90"></a><!-- doxytag: member="sx360::sxPunchFile::read" ref="f35230631102b26e7c4c7d596c337f90" args="(void *ptr, size_t size)" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">bool sx360::sxPunchFile::read </td>
      <td>(</td>
      <td class="paramtype">void *&nbsp;</td>
      <td class="paramname"> <em>ptr</em>, </td>
    </tr>
    <tr>
      <td class="paramkey"><br>
      </td>
      <td><br>
      </td>
      <td class="paramtype">size_t&nbsp;</td>
      <td class="paramname"> <em>size</em></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><br>
      </td>
      <td>)</td>
      <td><br>
      </td>
      <td><br>
      </td>
      <td width="100%"><code> [inline]</code></td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Wrapper function for fread.&nbsp; No need for a client to call this
function.<br>
</p>
</div>
</div>
<p><a class="anchor" name="a3365bbb8ab664df66531dea1555f427"></a><!-- doxytag: member="sx360::sxPunchFile::write" ref="a3365bbb8ab664df66531dea1555f427" args="(void *ptr, size_t size)" -->
</p>
<div class="memitem">
<div class="memproto">
<table class="memname">
  <tbody>
    <tr>
      <td class="memname">bool sx360::sxPunchFile::write </td>
      <td>(</td>
      <td class="paramtype">void *&nbsp;</td>
      <td class="paramname"> <em>ptr</em>, </td>
    </tr>
    <tr>
      <td class="paramkey"><br>
      </td>
      <td><br>
      </td>
      <td class="paramtype">size_t&nbsp;</td>
      <td class="paramname"> <em>size</em></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><br>
      </td>
      <td>)</td>
      <td><br>
      </td>
      <td><br>
      </td>
      <td width="100%"><code> [inline]</code></td>
    </tr>
  </tbody>
</table>
</div>
<div class="memdoc">
<p>Wrapper function for fwrite.&nbsp; No need for a client to call this
function.<br>
</p>
</div>
</div>
<p></p>
<hr size="1">
<address style="text-align: right;"><small>Generated on Fri Jul 27
14:54:01 2007 for sx360 by&nbsp;
<a href="http://www.doxygen.org/index.html"><img src="doxygen.png"
 alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
